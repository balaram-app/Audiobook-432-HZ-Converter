<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- CACHE BUSTING -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="version" content="9.0">
    
    <title>432 Hz AudioBook Creator v9.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --turquoise: #00FFFF;
            --gold: #FFD700;
            --white: #FFFFFF;
        }

        /* UNIVERSE BACKGROUND */
        body {
            font-family: 'Rajdhani', sans-serif;
            background: linear-gradient(135deg, #000428 0%, #004e92 50%, #001a33 100%);
            color: var(--white);
            min-height: 100vh;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(ellipse at 20% 30%, rgba(0, 206, 209, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 70%, rgba(32, 178, 170, 0.15) 0%, transparent 50%),
                radial-gradient(2px 2px at 10% 20%, white, transparent),
                radial-gradient(1px 1px at 90% 80%, white, transparent),
                radial-gradient(1px 1px at 50% 50%, rgba(255,255,255,0.5), transparent);
            background-size: 100% 100%, 100% 100%, 200px 200px, 150px 150px, 100px 100px;
            opacity: 0.9;
            z-index: 0;
        }

        .container { max-width: 1400px; margin: 0 auto; padding: 1.5rem; position: relative; z-index: 1; }

        /* HEADER - EQUAL SPACING */
        header { text-align: center; padding: 1rem 0 0rem; margin-bottom: 2rem; }

        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            font-weight: 900;
            background: linear-gradient(135deg, #00CED1 0%, #1E90FF 33%, #FFD700 66%, #00FF88 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 300% auto;
            animation: gentleShimmer 8s ease-in-out infinite;
            margin-bottom: 0.5rem;
        }

        @keyframes gentleShimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .tagline {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--white);
            letter-spacing: 3px;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }

        /* SUBTITLE - LARGER, GOLD, EQUAL SPACING */
        .subtitle { 
            font-size: 1.3rem;
            color: #FFD700;
            opacity: 0.9;
            text-align: center;
            margin: 0 auto;
            max-width: 90%;
        }

        .text-card { 
            background: rgba(22, 33, 62, 0.7); 
            border: 3px solid var(--turquoise); 
            border-radius: 20px; 
            padding: 2rem; 
            margin-bottom: 1.5rem;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
        }

        .section-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            color: var(--turquoise);
            margin-bottom: 1rem;
            text-align: center;
        }

        .input-label {
            display: block;
            margin-bottom: 0.8rem;
            color: var(--white);
            font-weight: 700;
            font-size: 1.3rem;
            text-align: center;
            text-transform: uppercase;
        }

        /* TEXT AREA - CENTERED IN FRAME */
        textarea {
            width: 100%;
            min-height: 280px;
            background: rgba(10, 1, 24, 0.8);
            border: 2px solid rgba(0, 255, 255, 0.4);
            border-radius: 12px;
            padding: 1rem;
            color: var(--white);
            font-family: 'Rajdhani', sans-serif;
            font-size: 1.05rem;
            resize: vertical;
            display: block;
            margin: 0 auto;
        }

        .char-counter { 
            text-align: center; 
            margin-top: 0.5rem; 
            font-size: 0.95rem; 
            color: rgba(255,255,255,0.7);
        }

        /* UPLOAD - ATTRACTIVE TEAL/TURQUOISE (NO GRAY) */
        .upload-section {
            margin-top: 1.5rem;
            text-align: center;
        }

        .upload-btn {
            background: linear-gradient(135deg, rgba(0, 206, 209, 0.3), rgba(64, 224, 208, 0.3));
            border: 3px dashed rgba(0, 255, 255, 0.6);
            border-radius: 15px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-block;
            width: 100%;
            max-width: 500px;
        }

        .upload-btn:hover {
            background: linear-gradient(135deg, rgba(0, 206, 209, 0.5), rgba(64, 224, 208, 0.5));
            border-color: var(--turquoise);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.4);
        }

        .upload-icon { font-size: 2.5rem; margin-bottom: 0.3rem; }

        .upload-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--white);
            text-transform: uppercase;
        }

        .voice-label {
            display: block;
            margin: 1.5rem 0 0.8rem 0;
            color: var(--white);
            font-weight: 700;
            font-size: 1.3rem;
            text-align: center;
            text-transform: uppercase;
        }

        select {
            width: 100%;
            background: rgba(10, 1, 24, 0.8);
            border: 2px solid rgba(0, 255, 255, 0.4);
            border-radius: 12px;
            padding: 0.9rem 1rem;
            color: var(--white);
            font-family: 'Rajdhani', sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
        }

        option {
            background: #0A0118;
            color: var(--white);
            font-weight: 700;
        }

        /* FREQUENCY SELECTION */
        .frequency-card {
            background: rgba(22, 33, 62, 0.7);
            border: 3px solid var(--turquoise);
            border-radius: 20px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
        }

        .frequency-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            color: var(--turquoise);
            margin-bottom: 1rem;
            text-align: center;
        }

        .frequency-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            max-width: 500px;
            margin: 0 auto;
        }

        /* FREQUENCY BUTTONS - STAY HIGHLIGHTED */
        .freq-option {
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        /* 432 Hz - BLUE */
        .freq-option[data-freq="432"] {
            background: linear-gradient(135deg, rgba(30, 144, 255, 0.3), rgba(0, 123, 255, 0.3));
        }
        .freq-option[data-freq="432"]:hover {
            background: linear-gradient(135deg, rgba(30, 144, 255, 0.5), rgba(0, 123, 255, 0.5));
        }
        .freq-option[data-freq="432"].selected {
            background: linear-gradient(135deg, rgba(30, 144, 255, 0.8), rgba(0, 123, 255, 0.8));
            border: 3px solid #1E90FF;
            box-shadow: 0 0 30px rgba(30, 144, 255, 0.8), inset 0 0 20px rgba(30, 144, 255, 0.3);
            transform: scale(1.05);
        }

        /* 528 Hz - GREEN */
        .freq-option[data-freq="528"] {
            background: linear-gradient(135deg, rgba(0, 255, 127, 0.3), rgba(34, 139, 34, 0.3));
        }
        .freq-option[data-freq="528"]:hover {
            background: linear-gradient(135deg, rgba(0, 255, 127, 0.5), rgba(34, 139, 34, 0.5));
        }
        .freq-option[data-freq="528"].selected {
            background: linear-gradient(135deg, rgba(0, 255, 127, 0.8), rgba(34, 139, 34, 0.8));
            border: 3px solid #00FF7F;
            box-shadow: 0 0 30px rgba(0, 255, 127, 0.8), inset 0 0 20px rgba(0, 255, 127, 0.3);
            transform: scale(1.05);
        }

        /* 396 Hz - PURPLE */
        .freq-option[data-freq="396"] {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.3), rgba(75, 0, 130, 0.3));
        }
        .freq-option[data-freq="396"]:hover {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.5), rgba(75, 0, 130, 0.5));
        }
        .freq-option[data-freq="396"].selected {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.8), rgba(75, 0, 130, 0.8));
            border: 3px solid #8A2BE2;
            box-shadow: 0 0 30px rgba(138, 43, 226, 0.8), inset 0 0 20px rgba(138, 43, 226, 0.3);
            transform: scale(1.05);
        }

        /* 639 Hz - ORANGE */
        .freq-option[data-freq="639"] {
            background: linear-gradient(135deg, rgba(255, 140, 0, 0.3), rgba(255, 69, 0, 0.3));
        }
        .freq-option[data-freq="639"]:hover {
            background: linear-gradient(135deg, rgba(255, 140, 0, 0.5), rgba(255, 69, 0, 0.5));
        }
        .freq-option[data-freq="639"].selected {
            background: linear-gradient(135deg, rgba(255, 140, 0, 0.8), rgba(255, 69, 0, 0.8));
            border: 3px solid #FF8C00;
            box-shadow: 0 0 30px rgba(255, 140, 0, 0.8), inset 0 0 20px rgba(255, 140, 0, 0.3);
            transform: scale(1.05);
        }

        .freq-number { 
            font-family: 'Orbitron', sans-serif; 
            font-size: 1.5rem; 
            color: var(--white); 
            font-weight: 900;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }

        .freq-name { 
            font-size: 0.9rem; 
            color: var(--white); 
            margin-top: 0.3rem;
            font-weight: 600;
        }

        /* BACKGROUND MUSIC */
        .music-card {
            background: rgba(22, 33, 62, 0.7);
            border: 3px solid var(--turquoise);
            border-radius: 20px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
        }

        .music-title {
            font-family: 'Orbitron', sans-serif;
            color: var(--turquoise);
            margin-bottom: 1rem;
            font-size: 1.5rem;
            font-weight: 900;
            text-align: center;
        }

        .music-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            max-width: 450px;
            margin: 0 auto;
        }

        /* MUSIC BUTTONS - STAY HIGHLIGHTED */
        .music-option {
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        /* OFF - SOFT BLUE */
        .music-option[data-music="off"] {
            background: linear-gradient(135deg, rgba(70, 130, 180, 0.3), rgba(100, 149, 237, 0.3));
        }
        .music-option[data-music="off"]:hover {
            background: linear-gradient(135deg, rgba(70, 130, 180, 0.5), rgba(100, 149, 237, 0.5));
        }
        .music-option[data-music="off"].selected {
            background: linear-gradient(135deg, rgba(70, 130, 180, 0.8), rgba(100, 149, 237, 0.8));
            border: 3px solid #4682B4;
            box-shadow: 0 0 30px rgba(70, 130, 180, 0.8), inset 0 0 20px rgba(70, 130, 180, 0.3);
            transform: scale(1.05);
        }

        /* SUN - ORANGE/YELLOW */
        .music-option[data-music="sun"] {
            background: linear-gradient(135deg, rgba(255, 165, 0, 0.3), rgba(255, 215, 0, 0.3));
        }
        .music-option[data-music="sun"]:hover {
            background: linear-gradient(135deg, rgba(255, 165, 0, 0.5), rgba(255, 215, 0, 0.5));
        }
        .music-option[data-music="sun"].selected {
            background: linear-gradient(135deg, rgba(255, 165, 0, 0.8), rgba(255, 215, 0, 0.8));
            border: 3px solid #FFA500;
            box-shadow: 0 0 30px rgba(255, 165, 0, 0.8), inset 0 0 20px rgba(255, 165, 0, 0.3);
            transform: scale(1.05);
        }

        /* RUMI - PURPLE */
        .music-option[data-music="rumi"] {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.3), rgba(147, 112, 219, 0.3));
        }
        .music-option[data-music="rumi"]:hover {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.5), rgba(147, 112, 219, 0.5));
        }
        .music-option[data-music="rumi"].selected {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.8), rgba(147, 112, 219, 0.8));
            border: 3px solid #8A2BE2;
            box-shadow: 0 0 30px rgba(138, 43, 226, 0.8), inset 0 0 20px rgba(138, 43, 226, 0.3);
            transform: scale(1.05);
        }

        /* NATURE - GREEN */
        .music-option[data-music="nature"] {
            background: linear-gradient(135deg, rgba(34, 139, 34, 0.3), rgba(0, 128, 0, 0.3));
        }
        .music-option[data-music="nature"]:hover {
            background: linear-gradient(135deg, rgba(34, 139, 34, 0.5), rgba(0, 128, 0, 0.5));
        }
        .music-option[data-music="nature"].selected {
            background: linear-gradient(135deg, rgba(34, 139, 34, 0.8), rgba(0, 128, 0, 0.8));
            border: 3px solid #228B22;
            box-shadow: 0 0 30px rgba(34, 139, 34, 0.8), inset 0 0 20px rgba(34, 139, 34, 0.3);
            transform: scale(1.05);
        }

        .music-icon { 
            font-size: 2rem; 
            margin-bottom: 0.3rem;
            filter: drop-shadow(0 2px 5px rgba(0,0,0,0.5));
        }

        .music-name { 
            font-size: 0.9rem; 
            color: var(--white); 
            font-weight: 600;
            text-shadow: 0 1px 3px rgba(0,0,0,0.5);
        }

        .btn-group { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem; }

        .btn {
            background: linear-gradient(135deg, #20B2AA, #008B8B);
            border: none;
            border-radius: 15px;
            padding: 1.2rem 1.5rem;
            color: var(--white);
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            text-transform: uppercase;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(32, 178, 170, 0.5);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* SAVE BUTTON - DEEP DARK GREEN */
        .btn-save {
            background: linear-gradient(135deg, #228B22, #006400);
            border: 3px solid #228B22;
            color: #FFFFFF;
            font-weight: 900;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            box-shadow: 0 0 20px rgba(34, 139, 34, 0.4);
        }

        .btn-save:hover {
            box-shadow: 0 8px 30px rgba(34, 139, 34, 0.6);
        }

        .speed-card {
            background: rgba(22, 33, 62, 0.7);
            border: 3px solid var(--turquoise);
            border-radius: 20px;
            padding: 1.2rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
        }

        .speed-label {
            display: block;
            margin-bottom: 0.8rem;
            color: var(--turquoise);
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            font-size: 1.1rem;
            text-align: center;
            text-transform: uppercase;
        }

        .speed-buttons { display: flex; gap: 0.5rem; justify-content: center; }

        .speed-btn {
            flex: 1;
            background: rgba(0, 139, 139, 0.3);
            border: 2px solid rgba(0, 255, 255, 0.4);
            border-radius: 8px;
            padding: 0.6rem;
            color: var(--white);
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.95rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .speed-btn:hover {
            background: rgba(0, 139, 139, 0.5);
            border-color: var(--turquoise);
        }

        /* SPEECH SPEED - CONSISTENT HIGHLIGHTING */
        .speed-btn.active {
            background: linear-gradient(135deg, rgba(0, 206, 209, 0.8), rgba(32, 178, 170, 0.8));
            border: 3px solid var(--turquoise);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.7), inset 0 0 15px rgba(0, 255, 255, 0.3);
            transform: scale(1.05);
        }

        /* USAGE DASHBOARD */
        .usage-card {
            background: rgba(22, 33, 62, 0.7);
            border: 3px solid var(--turquoise);
            border-radius: 20px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            text-align: center;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
        }

        .usage-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1rem;
            color: var(--turquoise);
            margin-bottom: 0.8rem;
            text-transform: uppercase;
        }

        .usage-number {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            font-weight: 900;
            color: #FFFFFF;
            margin: 0.5rem 0;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
        }

        .usage-label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            margin-top: 0.3rem;
        }

        .premium-section {
            text-align: center;
            margin: 3rem 0 2rem 0;
        }

        .premium-btn {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border: none;
            border-radius: 25px;
            padding: 1.2rem 3rem;
            color: #000;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.3rem;
            font-weight: 900;
            cursor: pointer;
            box-shadow: 0 8px 30px rgba(255, 215, 0, 0.5);
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
            white-space: nowrap;
        }

        .premium-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 40px rgba(255, 215, 0, 0.7);
        }

        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); z-index: 2000; justify-content: center; align-items: center; }
        .modal-overlay.active { display: flex; }

        .modal-content {
            background: linear-gradient(135deg, #001a33, #004e92);
            border: 3px solid var(--gold);
            border-radius: 20px;
            padding: 2.5rem;
            max-width: 800px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-close { position: absolute; top: 1rem; right: 1rem; background: none; border: none; color: var(--white); font-size: 2rem; cursor: pointer; }
        .modal-title { font-family: 'Orbitron', sans-serif; font-size: 2.5rem; color: var(--gold); text-align: center; margin-bottom: 2rem; }
        .plans-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; }
        .plan-card { background: rgba(0, 0, 0, 0.5); border: 2px solid rgba(255, 255, 255, 0.2); border-radius: 15px; padding: 2rem; text-align: center; }
        .plan-card.premium { border: 3px solid var(--gold); box-shadow: 0 0 30px rgba(255, 215, 0, 0.4); }
        .plan-name { font-family: 'Orbitron', sans-serif; font-size: 1.8rem; color: var(--turquoise); margin-bottom: 1rem; }
        .plan-card.premium .plan-name { color: var(--gold); }
        .plan-price { font-family: 'Orbitron', sans-serif; font-size: 2.5rem; color: var(--white); margin: 1rem 0; }
        .plan-features { list-style: none; text-align: left; margin: 1.5rem 0; }
        .plan-features li { padding: 0.5rem 0; color: var(--white); }
        .plan-features li::before { content: '‚úì '; color: #00FF88; font-weight: 700; margin-right: 0.5rem; }
        .plan-btn { background: linear-gradient(135deg, #20B2AA, #008B8B); border: none; border-radius: 12px; padding: 1rem 2rem; color: var(--white); font-family: 'Orbitron', sans-serif; font-size: 1.1rem; font-weight: 700; cursor: pointer; width: 100%; margin-top: 1rem; }
        .plan-card.premium .plan-btn { background: linear-gradient(135deg, #FFD700, #FFA500); color: #000; }

        footer { text-align: center; padding: 2rem 0; color: rgba(255,255,255,0.7); }

        /* STATUS MESSAGE */
        .status-message {
            background: rgba(0, 255, 255, 0.1);
            border: 2px solid var(--turquoise);
            border-radius: 12px;
            padding: 1rem;
            margin: 1rem 0;
            text-align: center;
            color: var(--turquoise);
            font-family: 'Orbitron', sans-serif;
            display: none;
        }

        .status-message.show {
            display: block;
        }

        .status-message.error {
            background: rgba(255, 0, 0, 0.1);
            border-color: #FF6B6B;
            color: #FF6B6B;
        }

        .status-message.success {
            background: rgba(0, 255, 127, 0.1);
            border-color: #00FF7F;
            color: #00FF7F;
        }

        @media (max-width: 768px) {
            .logo { font-size: 2.2rem; }
            .tagline { font-size: 2rem; }
            .subtitle { font-size: 1.1rem; }
            .btn-group { grid-template-columns: 1fr; }
            .plans-grid { grid-template-columns: 1fr; }
            .premium-btn { font-size: 1.1rem; padding: 1rem 2rem; }
        }
    </style>
</head>
<body>
    <div class="modal-overlay" id="premiumModal" onclick="if(event.target === this) closePremiumModal()">
        <div class="modal-content">
            <button class="modal-close" onclick="closePremiumModal()">√ó</button>
            <h2 class="modal-title">Choose Your Plan</h2>
            <div class="plans-grid">
                <div class="plan-card">
                    <div class="plan-name">FREE</div>
                    <div class="plan-price">$0<span style="font-size: 1.2rem;">/mo</span></div>
                    <ul class="plan-features">
                        <li>5,000 characters</li>
                        <li>5 conversions/day</li>
                        <li>8 frequencies</li>
                        <li>3 background music</li>
                        <li>Online playback</li>
                    </ul>
                    <button class="plan-btn" onclick="closePremiumModal()">Current Plan</button>
                </div>
                <div class="plan-card premium">
                    <div class="plan-name">üíé PREMIUM</div>
                    <div class="plan-price">$9.99<span style="font-size: 1.2rem;">/mo</span></div>
                    <ul class="plan-features">
                        <li>50,000 characters</li>
                        <li>Unlimited conversions</li>
                        <li>MP3 download</li>
                        <li>Premium voices</li>
                        <li>10+ music options</li>
                        <li>Cloud storage</li>
                    </ul>
                    <button class="plan-btn" onclick="alert('Coming soon!')">Upgrade Now</button>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <header>
            <h1 class="logo">432 Hz</h1>
            <p class="tagline">AUDIOBOOK CREATOR</p>
            <p class="subtitle">Transform Text into Healing Sound Frequencies</p>
        </header>

        <div class="text-card">
            <h2 class="section-title">Your Text</h2>
            <label class="input-label">Paste or Type Your Text Below</label>
            <textarea id="textInput" placeholder="Enter your text here..." oninput="updateCharCounter()"></textarea>
            <div class="char-counter" id="charCounter">0 / 50,000 characters</div>

            <div class="upload-section">
                <div class="upload-btn" onclick="document.getElementById('fileInput').click()">
                    <div class="upload-icon">üìÑ</div>
                    <div class="upload-text">Upload Text File</div>
                </div>
                <input type="file" id="fileInput" accept=".txt" style="display: none;" onchange="handleFileUpload(event)">
            </div>

            <label class="voice-label">Select Voice & Accent</label>
            <select id="voiceSelect">
                <option value="en-US-Neural2-J">üá∫üá∏ English (US) - Male (Neural)</option>
                <option value="en-US-Neural2-F">üá∫üá∏ English (US) - Female (Neural)</option>
                <option value="en-GB-Neural2-B">üá¨üáß English (UK) - Male (Neural)</option>
                <option value="en-GB-Neural2-A">üá¨üáß English (UK) - Female (Neural)</option>
                <option value="en-AU-Neural2-B">üá¶üá∫ English (AU) - Male (Neural)</option>
                <option value="en-AU-Neural2-A">üá¶üá∫ English (AU) - Female (Neural)</option>
                <option value="en-IN-Neural2-B">üáÆüá≥ English (IN) - Male (Neural)</option>
                <option value="en-IN-Neural2-A">üáÆüá≥ English (IN) - Female (Neural)</option>
            </select>
        </div>

        <div class="frequency-card">
            <h2 class="frequency-title">Frequency Selection</h2>
            <div class="frequency-grid">
                <div class="freq-option selected" data-freq="432" onclick="selectFrequency(432, this)">
                    <div class="freq-number">432 Hz</div>
                    <div class="freq-name">Natural</div>
                </div>
                <div class="freq-option" data-freq="528" onclick="selectFrequency(528, this)">
                    <div class="freq-number">528 Hz</div>
                    <div class="freq-name">Love</div>
                </div>
                <div class="freq-option" data-freq="396" onclick="selectFrequency(396, this)">
                    <div class="freq-number">396 Hz</div>
                    <div class="freq-name">Liberation</div>
                </div>
                <div class="freq-option" data-freq="639" onclick="selectFrequency(639, this)">
                    <div class="freq-number">639 Hz</div>
                    <div class="freq-name">Connection</div>
                </div>
            </div>
        </div>

        <div class="music-card">
            <div class="music-title">Background Music</div>
            <div class="music-grid">
                <div class="music-option selected" data-music="off" onclick="selectBackgroundMusic('off', this)">
                    <div class="music-icon">üîá</div>
                    <div class="music-name">Off</div>
                </div>
                <div class="music-option" data-music="sun" onclick="selectBackgroundMusic('sun', this)">
                    <div class="music-icon">‚òÄÔ∏è</div>
                    <div class="music-name">Sun</div>
                </div>
                <div class="music-option" data-music="rumi" onclick="selectBackgroundMusic('rumi', this)">
                    <div class="music-icon">üåô</div>
                    <div class="music-name">Rumi</div>
                </div>
                <div class="music-option" data-music="nature" onclick="selectBackgroundMusic('nature', this)">
                    <div class="music-icon">üåø</div>
                    <div class="music-name">Nature</div>
                </div>
            </div>
        </div>

        <div class="speed-card">
            <div class="speed-label">Speech Speed</div>
            <div class="speed-buttons">
                <button class="speed-btn" onclick="setSpeed(0.75, this)">0.75x</button>
                <button class="speed-btn active" onclick="setSpeed(1, this)">1x</button>
                <button class="speed-btn" onclick="setSpeed(1.25, this)">1.25x</button>
                <button class="speed-btn" onclick="setSpeed(1.5, this)">1.5x</button>
                <button class="speed-btn" onclick="setSpeed(2, this)">2x</button>
            </div>
        </div>

        <!-- STATUS MESSAGE -->
        <div class="status-message" id="statusMessage"></div>

        <div class="btn-group">
            <button class="btn" id="generateBtn" onclick="generateAudio()">‚ö° Generate 432 Hz Audio</button>
            <button class="btn btn-save" id="downloadBtn" onclick="saveAndDownload()" disabled>üíæ Save + Download</button>
        </div>

        <!-- USAGE DASHBOARD -->
        <div class="usage-card">
            <div class="usage-title">Usage Dashboard</div>
            <div class="usage-number" id="usageNumber">50,000</div>
            <div class="usage-label">Characters Left (Free Limit)</div>
        </div>

        <div class="premium-section">
            <button class="premium-btn" onclick="showPremiumModal()">UPGRADE TO PREMIUM</button>
        </div>

        <footer>
            <p>üéµ Created with Sacred Geometry and Love Frequency üéµ</p>
        </footer>
    </div>

    <script>
        // ========================================
        // APP STATE
        // ========================================
        let appState = { 
            selectedFrequency: 432, 
            charLimit: 50000, 
            currentSpeed: 1.0,
            selectedMusic: 'off',
            sessionId: null,
            downloadUrl: null,
            selectedVoice: 'en-US-Neural2-J'
        };

        // Backend URL - CHANGE THIS to your deployed backend
        const BACKEND_URL = 'https://four32hz-audiobook-backend.onrender.com';

        // ========================================
        // INITIALIZATION
        // ========================================
        window.addEventListener('load', function() {
            updateCharCounter();
            showStatus('Ready to create healing frequencies! üéµ', 'success');
        });

        // ========================================
        // FILE UPLOAD
        // ========================================
        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file && file.type === 'text/plain') {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('textInput').value = e.target.result;
                    updateCharCounter();
                    showStatus('File uploaded successfully! ‚úì', 'success');
                };
                reader.readAsText(file);
            } else {
                showStatus('Please upload a .txt file', 'error');
            }
        }

        // ========================================
        // CHARACTER COUNTER
        // ========================================
        function updateCharCounter() {
            const text = document.getElementById('textInput').value;
            const charCount = text.length;
            document.getElementById('charCounter').textContent = `${charCount.toLocaleString()} / 50,000 characters`;
            
            // Update usage dashboard
            const remaining = Math.max(0, 50000 - charCount);
            document.getElementById('usageNumber').textContent = remaining.toLocaleString();
            
            // Disable generate button if over limit
            const generateBtn = document.getElementById('generateBtn');
            if (charCount > 50000) {
                generateBtn.disabled = true;
                showStatus('Text exceeds 50,000 character limit!', 'error');
            } else {
                generateBtn.disabled = false;
            }
        }

        // ========================================
        // FREQUENCY SELECTION
        // ========================================
        function selectFrequency(freq, btn) {
            appState.selectedFrequency = freq;
            document.querySelectorAll('.freq-option').forEach(opt => opt.classList.remove('selected'));
            btn.classList.add('selected');
            showStatus(`Frequency set to ${freq} Hz`, 'success');
        }

        // ========================================
        // BACKGROUND MUSIC SELECTION
        // ========================================
        function selectBackgroundMusic(music, btn) {
            appState.selectedMusic = music;
            document.querySelectorAll('.music-option').forEach(opt => opt.classList.remove('selected'));
            btn.classList.add('selected');
            const musicName = music === 'off' ? 'No music' : music.charAt(0).toUpperCase() + music.slice(1);
            showStatus(`Background music: ${musicName}`, 'success');
        }

        // ========================================
        // SPEECH SPEED SELECTION
        // ========================================
        function setSpeed(speed, btn) {
            appState.currentSpeed = speed;
            document.querySelectorAll('.speed-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            showStatus(`Speed set to ${speed}x`, 'success');
        }

        // ========================================
        // STATUS MESSAGE DISPLAY
        // ========================================
        function showStatus(message, type = 'info') {
            const statusDiv = document.getElementById('statusMessage');
            statusDiv.textContent = message;
            statusDiv.className = 'status-message show ' + type;
            
            // Auto-hide after 5 seconds unless it's an error
            if (type !== 'error') {
                setTimeout(() => {
                    statusDiv.classList.remove('show');
                }, 5000);
            }
        }

        // ========================================
        // GENERATE AUDIO (BACKEND API)
        // ========================================
        async function generateAudio() {
            const text = document.getElementById('textInput').value.trim();
            
            // Validation
            if (!text) { 
                showStatus('Please enter text first!', 'error');
                return; 
            }
            if (text.length > 50000) { 
                showStatus('Text exceeds 50,000 character limit!', 'error');
                return; 
            }
            
            // Get UI elements
            const generateBtn = document.getElementById('generateBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const originalText = generateBtn.textContent;
            
            // Show loading state
            generateBtn.textContent = '‚è≥ Generating...';
            generateBtn.disabled = true;
            downloadBtn.disabled = true;
            showStatus('Connecting to server... This may take 30-60 seconds.', 'info');
            
            try {
                // Get selected voice
                const voiceSelect = document.getElementById('voiceSelect');
                appState.selectedVoice = voiceSelect.value;
                
                console.log('Sending request to:', BACKEND_URL + '/generate');
                console.log('Request data:', {
                    text_length: text.length,
                    frequency: appState.selectedFrequency,
                    voice: appState.selectedVoice,
                    background_music: appState.selectedMusic,
                    speed: appState.currentSpeed
                });
                
                // Call backend API
                const response = await fetch(`${BACKEND_URL}/generate`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        text: text,
                        frequency: appState.selectedFrequency,
                        voice: appState.selectedVoice,
                        background_music: appState.selectedMusic || 'off',
                        speed: appState.currentSpeed
                    })
                });
                
                console.log('Response status:', response.status);
                const data = await response.json();
                console.log('Response data:', data);
                
                if (data.success) {
                    // Success!
                    appState.sessionId = data.session_id;
                    appState.downloadUrl = `${BACKEND_URL}${data.download_url}`;
                    
                    showStatus(`‚úÖ ${data.message} - Ready to download!`, 'success');
                    downloadBtn.disabled = false;
                } else {
                    showStatus('‚ùå Generation failed: ' + (data.error || 'Unknown error'), 'error');
                    console.error('Backend error:', data.error);
                }
                
            } catch (error) {
                console.error('Connection error:', error);
                showStatus(
                    '‚ùå Cannot connect to backend server!\n\n' + 
                    'Make sure the backend is running at: ' + BACKEND_URL + '\n\n' +
                    'Error: ' + error.message,
                    'error'
                );
            } finally {
                generateBtn.textContent = originalText;
                generateBtn.disabled = false;
            }
        }

        // ========================================
        // SAVE AND DOWNLOAD
        // ========================================
        function saveAndDownload() {
            if (!appState.sessionId || !appState.downloadUrl) {
                showStatus('Please generate audio first!', 'error');
                return;
            }
            
            // Download the file
            showStatus('üì• Starting download...', 'success');
            window.location.href = appState.downloadUrl;
        }

        // ========================================
        // PREMIUM MODAL
        // ========================================
        function showPremiumModal() { 
            document.getElementById('premiumModal').classList.add('active'); 
        }
        
        function closePremiumModal() { 
            document.getElementById('premiumModal').classList.remove('active'); 
        }
    </script>
</body>
</html>
